<Project>
  <!-- Forward to Microsoft.NET.Sdk -->
  <Import Sdk="Microsoft.NET.Sdk" Project="Sdk.props" />

  <!-- FGenerator -->
  <ItemGroup>
    <!--
      No way to 'bake' target version automatically (this file is not preprocessed by msbuild on build)
      * DO NOT remove GeneratePathProperty! Sdk.targets is depending on that!
    -->
    <PackageReference Include="FGenerator" Version="2.2.2" GeneratePathProperty="true" />
  </ItemGroup>

  <!-- Minimal requirements for roslyn development -->
  <PropertyGroup>
    <TargetFramework>netstandard2.0</TargetFramework>
    <IsRoslynComponent>true</IsRoslynComponent>
    <DevelopmentDependency>true</DevelopmentDependency>
    <EnforceExtendedAnalyzerRules>true</EnforceExtendedAnalyzerRules>
    <!-- false to simplify CI workflow -->
    <GeneratePackageOnBuild>false</GeneratePackageOnBuild>
    <!-- Do not include the generator as a lib dependency -->
    <IncludeBuildOutput>false</IncludeBuildOutput>
    <!-- Debug settings for Visual Studio -->
    <VSSDKTargetPlatformRegRootSuffix>Roslyn</VSSDKTargetPlatformRegRootSuffix>
    <StartAction>Program</StartAction>
    <StartProgram>$(DevEnvDir)devenv.exe</StartProgram>
    <StartArguments>/rootsuffix $(VSSDKTargetPlatformRegRootSuffix)</StartArguments>
  </PropertyGroup>

  <!-- Required for file-based app project -->
  <PropertyGroup>
    <PublishAot>false</PublishAot>
    <OutputType>Library</OutputType>
  </PropertyGroup>

  <PropertyGroup>
    <Nullable>enable</Nullable>
    
    <!-- 10.0 required for 'global using' -->
    <LangVersion>10.0</LangVersion>

    <!-- CS1591: Missing XML comment for publicly visible type or member -->
    <!-- CA1050: Declare types in namespaces -->
    <NoWarn>$(NoWarn);CS1591;CA1050</NoWarn>
    <GenerateDocumentationFile>false</GenerateDocumentationFile>

    <ImplicitUsings>enable</ImplicitUsings>
  </PropertyGroup>

  <!-- Optional -->
  <PropertyGroup Condition=" '$(Configuration)'=='Release' ">
    <DebugType>none</DebugType>
  </PropertyGroup>

</Project>
